---
const navItems = [
  { href: '/', label: 'Home' },
  { href: '/services', label: 'Services' },
  { href: '/locations', label: 'Locations' },
  { href: '/about', label: 'About' },
  { href: '/contact', label: 'Contact' },
];

const currentPath = Astro.url.pathname;
---

<!-- Top bar -->
<div class="bg-primary text-white/80 text-sm hidden md:block">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-10">
    <div class="flex items-center gap-6">
      <a href="tel:3218319421" class="flex items-center gap-2 hover:text-accent transition-colors">
        <i class="fa-solid fa-phone text-accent text-xs"></i>
        <span>(321) 831-9421</span>
      </a>
      <a href="mailto:yeleussizovtamerlan@gmail.com" class="flex items-center gap-2 hover:text-accent transition-colors">
        <i class="fa-solid fa-envelope text-accent text-xs"></i>
        <span>yeleussizovtamerlan@gmail.com</span>
      </a>
    </div>
    <div class="flex items-center gap-2">
      <i class="fa-solid fa-clock text-accent text-xs"></i>
      <span>Mon-Fri 8am-6pm | Sat 9am-2pm</span>
    </div>
  </div>
</div>

<!-- Main nav -->
<header class="bg-white shadow-md sticky top-0 z-50 border-b-4 border-accent">
  <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-18">
      <a href="/" class="flex items-center gap-3 group">
        <div class="w-11 h-11 bg-primary flex items-center justify-center skew-x-[-4deg]">
          <i class="fa-solid fa-trowel-bricks text-accent text-lg skew-x-[4deg]"></i>
        </div>
        <div class="leading-tight">
          <span class="block text-lg font-heading font-bold text-primary tracking-wide uppercase">Orlando</span>
          <span class="block text-xs font-heading text-concrete-light tracking-[0.15em] uppercase">Concrete Coating</span>
        </div>
      </a>

      <div class="hidden lg:flex items-center gap-1">
        {navItems.map((item) => (
          <a
            href={item.href}
            class:list={[
              'px-4 py-2 text-sm font-heading font-medium uppercase tracking-wider transition-colors relative',
              currentPath === item.href
                ? 'text-accent'
                : 'text-concrete hover:text-accent'
            ]}
          >
            {item.label}
            {currentPath === item.href && (
              <span class="absolute bottom-0 left-4 right-4 h-0.5 bg-accent"></span>
            )}
          </a>
        ))}
        <a
          href="/contact"
          class="ml-4 bg-accent hover:bg-accent-dark text-primary px-6 py-2.5 font-heading font-bold text-sm uppercase tracking-wider transition-colors skew-x-[-4deg] inline-block"
        >
          <span class="skew-x-[4deg] inline-block">
            <i class="fa-solid fa-hammer mr-2"></i>Free Quote
          </span>
        </a>
      </div>

      <button
        id="mobile-menu-btn"
        class="lg:hidden p-2 text-concrete hover:text-accent transition-colors"
        aria-label="Toggle menu"
      >
        <i class="fa-solid fa-bars text-xl"></i>
      </button>
    </div>

    <div id="mobile-menu" class="hidden lg:hidden pb-6 pt-2 bg-white border-t border-surface-dark">
      {navItems.map((item) => (
        <a
          href={item.href}
          class:list={[
            'block py-3 px-2 font-heading font-medium uppercase tracking-wider transition-colors border-b border-surface-dark',
            currentPath === item.href ? 'text-accent text-base' : 'text-concrete hover:text-accent text-base'
          ]}
        >
          {item.label}
        </a>
      ))}
      <a
        href="/contact"
        class="block mt-4 bg-accent hover:bg-accent-dark text-primary px-6 py-3 font-heading font-bold text-base uppercase tracking-wider text-center transition-colors"
      >
        <i class="fa-solid fa-hammer mr-2"></i>Get Free Quote
      </a>
      <div class="mt-4 pt-4 border-t border-surface-dark flex flex-col gap-3 text-base text-concrete-light px-2">
        <a href="tel:3218319421" class="flex items-center gap-2 hover:text-accent">
          <i class="fa-solid fa-phone text-accent text-sm"></i>(321) 831-9421
        </a>
        <a href="mailto:yeleussizovtamerlan@gmail.com" class="flex items-center gap-2 hover:text-accent">
          <i class="fa-solid fa-envelope text-accent text-sm"></i>yeleussizovtamerlan@gmail.com
        </a>
      </div>
    </div>
  </nav>
</header>

<script>
  const btn = document.getElementById('mobile-menu-btn');
  const menu = document.getElementById('mobile-menu');

  btn?.addEventListener('click', () => {
    menu?.classList.toggle('hidden');
  });
</script>
